<!doctype html>
<html lang="zh-CN">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>HealthKeeper â€” æç®€é»‘ç™½ Â· äºšå¥åº·ç®¡ç†</title>
<style>
  :root{
    --bg:#ffffff;
    --fg:#0a0a0a;
    --muted:#666666;
    --accent:#000000;
    --glass: rgba(0,0,0,0.04);
    --radius:12px;
    --card-pad:16px;
    --shadow: 0 6px 18px rgba(0,0,0,0.06);
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  }
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;background:var(--bg);color:var(--fg);-webkit-font-smoothing:antialiased}
  a{color:inherit;text-decoration:none}
  .container{max-width:1100px;margin:28px auto;padding:20px;display:grid;grid-template-columns:260px 1fr;gap:28px}
  /* Sidebar */
  .sidebar{border-right:1px solid rgba(0,0,0,0.06);padding-right:12px}
  .brand{display:flex;align-items:center;gap:12px}
  .brand .logo{width:48px;height:48px;background:var(--fg);color:var(--bg);display:flex;align-items:center;justify-content:center;border-radius:10px;font-weight:700}
  .brand h1{font-size:16px;margin:0}
  nav{margin-top:22px}
  .nav-btn{display:flex;align-items:center;gap:10px;padding:10px;border-radius:10px;color:var(--fg);font-size:14px;border:none;background:transparent;cursor:pointer;width:100%;text-align:left}
  .nav-btn:hover{background:var(--glass)}
  .nav-btn.active{background:rgba(0,0,0,0.06);font-weight:600}
  .muted{color:var(--muted);font-size:13px}
  .small{font-size:13px}
  /* Main */
  .main{padding-left:12px}
  header.top{display:flex;justify-content:space-between;align-items:center}
  header.top h2{margin:0;font-size:20px}
  .date-pill{padding:8px 10px;border-radius:10px;border:1px solid rgba(0,0,0,0.06);font-size:13px}
  .grid-3{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin-top:18px}
  .card{background:transparent;border:1px solid rgba(0,0,0,0.06);padding:var(--card-pad);border-radius:var(--radius);box-shadow:var(--shadow)}
  .tile-icon{width:44px;height:44;border-radius:10px;background:var(--fg);color:var(--bg);display:flex;align-items:center;justify-content:center}
  .tile-title{font-size:13px;color:var(--muted)}
  .tile-val{font-size:20px;font-weight:700;margin-top:6px}
  .section{margin-top:18px}
  .two-col{display:grid;grid-template-columns:1fr 1fr;gap:12px}
  .btn{padding:8px 12px;border-radius:8px;border:1px solid rgba(0,0,0,0.08);background:transparent;cursor:pointer}
  .btn-primary{background:var(--fg);color:var(--bg);border:none}
  .control-row{display:flex;gap:8px;align-items:center}
  /* Symptom list */
  .sym-row{display:flex;justify-content:space-between;align-items:center;padding:10px;border-radius:8px;border:1px dashed rgba(0,0,0,0.04)}
  .sym-name{font-weight:600}
  .sym-level{font-size:13px;color:var(--muted)}
  /* Tabs */
  .tab-nav{display:flex;gap:1px;border:1px solid rgba(0,0,0,0.06);border-radius:8px;overflow:hidden;margin-bottom:12px}
  .tab-btn{padding:8px 12px;text-align:center;flex:1;background:var(--glass);color:var(--muted);font-size:14px}
  .tab-btn.active{background:var(--fg);color:var(--bg);font-weight:500}
  .tab-content{display:none}
  .tab-content.active{display:block}
  /* System selector */
  .system-selector{display:flex;flex-wrap:wrap;gap:8px;margin-bottom:12px}
  .system-pill{padding:6px 12px;border-radius:999px;border:1px solid rgba(0,0,0,0.06);cursor:pointer;font-size:14px}
  .system-pill.active{background:var(--fg);color:var(--bg);border-color:var(--fg)}
  /* Knowledge block */
  .knowledge-block{margin-bottom:16px}
  .knowledge-block h4{margin:0 0 8px 0;font-size:15px;color:var(--fg);border-bottom:1px solid rgba(0,0,0,0.06);padding-bottom:6px}
  .knowledge-block p{margin:0;color:var(--muted);font-size:14px;line-height:1.5}
  .knowledge-block ul{margin:8px 0 0 16px;color:var(--muted);font-size:14px;line-height:1.5}
  /* Report category */
  .report-cat{margin-bottom:24px}
  .report-cat h3{margin:0 0 12px 0;font-size:16px;color:var(--fg)}
  .report-item{display:flex;justify-content:space-between;align-items:center;padding:10px;border:1px solid rgba(0,0,0,0.04);border-radius:8px;margin-bottom:8px}
  .report-item-name{font-weight:500}
  .report-item-range{font-size:13px;color:var(--muted)}
  .status-good{color:#00c250}
  .status-warn{color:#e67700}
  .status-bad{color:#e03131}
  /* Supp card */
  .supp-card{border:1px solid rgba(0,0,0,0.06);border-radius:var(--radius);padding:var(--card-pad);margin-bottom:12px}
  .supp-name{font-weight:600}
  .supp-use{font-size:14px;color:var(--muted)}
  .supp-core{font-size:13px;color:var(--muted);margin:6px 0}
  /* Meal plan */
  .meal-nav{display:flex;gap:1px;overflow:hidden;border:1px solid rgba(0,0,0,0.06);border-radius:8px;margin-bottom:12px}
  .meal-btn{flex:1;padding:8px;text-align:center;background:var(--glass);color:var(--muted);font-size:14px}
  .meal-btn.active{background:var(--fg);color:var(--bg);font-weight:500}
  .meal-content{display:none}
  .meal-content.active{display:block}
  .meal-card{border:1px solid rgba(0,0,0,0.06);border-radius:var(--radius);padding:var(--card-pad);margin-bottom:12px}
  .meal-time{font-weight:600;margin-bottom:6px}
  .meal-desc{color:var(--muted);font-size:14px}
  .meal-footer{margin-top:12px;text-align:right}
  /* responsive */
  @media (max-width:900px){
    .container{grid-template-columns:1fr; padding:12px}
    .sidebar{display:flex;order:2;margin-top:18px;border-right:none;border-top:1px solid rgba(0,0,0,0.06);padding-top:16px}
    .main{order:1}
    .grid-3{grid-template-columns:repeat(1,1fr)}
    .two-col{grid-template-columns:1fr}
  }
  /* tiny */
  .muted-badge{font-size:12px;color:var(--muted);padding:6px 8px;border-radius:999px;border:1px solid rgba(0,0,0,0.04)}
  .pill{display:inline-block;padding:6px 8px;border-radius:999px;border:1px solid rgba(0,0,0,0.06);font-size:13px}
  .input{padding:8px 10px;border-radius:8px;border:1px solid rgba(0,0,0,0.08);width:100%}
  footer{margin-top:24px;color:var(--muted);font-size:13px}
</style>
</head>
<body>
<div class="container" role="application" aria-label="HealthKeeper">
  <aside class="sidebar" aria-label="ä¸»å¯¼èˆª">
    <div class="brand">
      <div class="logo">H</div>
      <div>
        <h1>HealthKeeper</h1>
        <div class="muted">æç®€Â·é»‘ç™½ Â· èº«å¿ƒå¥åº·ç®¡ç†</div>
      </div>
    </div>

    <nav id="nav" aria-label="å¯¼èˆª">
      <button class="nav-btn active" data-view="dashboard"><svg width="16" height="16" viewBox="0 0 24 24" fill="none"><rect x="3" y="3" width="7" height="7" stroke="white" stroke-width="0"/></svg> æ¦‚è§ˆ</button>
      <button class="nav-btn" data-view="knowledge">çŸ¥è¯†åº“</button>
      <button class="nav-btn" data-view="symptom">ç—‡çŠ¶è¿½è¸ª</button>
      <button class="nav-btn" data-view="plan">è¥å…»è®¡åˆ’</button>
      <button class="nav-btn" data-view="supp">è¡¥å……å‰‚åº“</button>
      <button class="nav-btn" data-view="report">å¥åº·æŠ¥å‘Š</button>
      <button class="nav-btn" data-view="settings">è®¾ç½®</button>
    </nav>

    <div style="margin-top:18px" class="muted small">ä¹”å¸ƒæ–¯ç®€çº¦é£ â€¢ é»‘ç™½é…è‰² â€¢ åŒ»å­¦+è¥å…»+è¡Œä¸º</div>
  </aside>

  <main class="main" id="main" tabindex="0">
    <!-- Dashboard -->
    <section id="view-dashboard">
      <header class="top">
        <div>
          <h2>ä»Šæ—¥å¥åº·æ¦‚è§ˆ</h2>
          <div class="muted">ä¾¿æ·çš„è‡ªæŸ¥ä¸è¡ŒåŠ¨æ¸…å•</div>
        </div>
        <div style="display:flex;gap:10px;align-items:center">
          <div class="muted small">å¼ ä¸‰ Â· 34å² Â· ç”·</div>
          <div class="date-pill" id="today"></div>
        </div>
      </header>

      <div class="grid-3">
        <div class="card">
          <div style="display:flex;gap:12px;align-items:center">
            <div class="tile-icon">â˜€</div>
            <div>
              <div class="tile-title">èƒ½é‡</div>
              <div class="tile-val" id="energyVal">52%</div>
              <div class="muted small">æ—¥å¸¸æ´»åŠ›</div>
            </div>
          </div>
        </div>

        <div class="card">
          <div style="display:flex;gap:12px;align-items:center">
            <div class="tile-icon">â¤</div>
            <div>
              <div class="tile-title">å¿ƒæƒ…</div>
              <div class="tile-val" id="moodVal">40%</div>
              <div class="muted small">æƒ…ç»ªçŠ¶æ€</div>
            </div>
          </div>
        </div>

        <div class="card">
          <div style="display:flex;gap:12px;align-items:center">
            <div class="tile-icon">ğŸŒ™</div>
            <div>
              <div class="tile-title">ç¡çœ </div>
              <div class="tile-val" id="sleepVal">62%</div>
              <div class="muted small">æ¢å¤åº¦</div>
            </div>
          </div>
        </div>
      </div>

      <div class="section">
        <div class="card">
          <h3 style="margin:0">æœ¬å‘¨é‡ç‚¹</h3>
          <ol style="margin-top:12px;color:var(--muted)">
            <li>å®Œæˆç‰™å‘¨ç§‘åˆè¯Šå¹¶è®°å½•ç‰™é¾ˆç…§ç‰‡</li>
            <li>è¿ç»­ 7 å¤©åšæŒè¡¥é“è®¡åˆ’ï¼ˆé˜¶æ®µ1ï¼‰</li>
            <li>æ¯å¤©æ—©æ™š 6 åˆ†é’Ÿå…±æŒ¯å‘¼å¸</li>
          </ol>
          <div style="margin-top:12px"><button class="btn btn-primary" onclick="navTo('knowledge')">è¿›å…¥çŸ¥è¯†åº“</button></div>
        </div>
      </div>

      <div class="section two-col">
        <div class="card">
          <h3 style="margin:0">è¥å…»æé†’</h3>
          <p class="muted" style="margin-top:8px">ä¼˜å…ˆé«˜å¸æ”¶é“ï¼ˆé…ç»´Cï¼‰ã€é«˜è´¨é‡è›‹ç™½ã€æ¯å¤© 1g Omega-3ï¼Œé¿å…è¿‡å¤šåŠ å·¥é£Ÿå“ä¸å¤œé—´æš´é¥®ã€‚</p>
        </div>
        <div class="card">
          <h3 style="margin:0">æƒ…ç»ª & ç¡çœ </h3>
          <p class="muted" style="margin-top:8px">å›ºå®šç¡çœ æ—¶é—´ï¼›ç™½å¤©æ—¥å…‰æš´éœ² 10 åˆ†é’Ÿï¼›ç¡å‰ 60 åˆ†é’Ÿè¿œç¦»å±å¹•ï¼›ç»ƒä¹ æ…¢å‘¼å¸ã€‚</p>
        </div>
      </div>

      <footer>
        <div class="muted small" style="margin-top:12px">æç¤ºï¼šæœ¬ App ä¸ºå¥åº·ç®¡ç†å·¥å…·ï¼Œä¸å–ä»£åŒ»ç”Ÿè¯Šæ–­ã€‚å¯¹äºä¸¥é‡ç—‡çŠ¶è¯·åŠæ—¶å°±åŒ»ã€‚</div>
      </footer>
    </section>

    <!-- Knowledge Base -->
    <section id="view-knowledge" style="display:none">
      <header class="top">
        <div>
          <h2>çŸ¥è¯†åº“</h2>
          <div class="muted">ç³»ç»ŸåŒ–å¥åº·çŸ¥è¯† Â· ä¸­è¥¿åŒ»èåˆ</div>
        </div>
        <div class="muted small">æŒç»­æ›´æ–°</div>
      </header>

      <div class="section">
        <div class="system-selector">
          <div class="system-pill active" onclick="selectSystem('metabolism')">ä»£è°¢ç³»ç»Ÿ</div>
          <div class="system-pill" onclick="selectSystem('nervous')">ç¥ç»ç³»ç»Ÿ</div>
          <div class="system-pill" onclick="selectSystem('immune')">å…ç–«ç³»ç»Ÿ</div>
          <div class="system-pill" onclick="selectSystem('digestive')">æ¶ˆåŒ–ç³»ç»Ÿ</div>
          <div class="system-pill" onclick="selectSystem('endocrine')">å†…åˆ†æ³Œç³»ç»Ÿ</div>
        </div>

        <div class="tab-nav">
          <button class="tab-btn active" onclick="switchTab('nutrition')">è¥å…»</button>
          <button class="tab-btn" onclick="switchTab('tcm')">ä¸­åŒ»</button>
          <button class="tab-btn" onclick="switchTab('symptoms')">ç—‡çŠ¶</button>
          <button class="tab-btn" onclick="switchTab('repair')">ä¿®å¤</button>
        </div>

        <div id="knowledge-content">
          <!-- è¥å…» -->
          <div class="tab-content active" id="tab-nutrition">
            <div class="knowledge-block">
              <h4>æ ¸å¿ƒåŠŸèƒ½</h4>
              <p>ä»£è°¢ç³»ç»Ÿè´Ÿè´£èƒ½é‡ç”Ÿæˆã€è¡€ç³–è°ƒæ§ã€è„‚è‚ªç‡ƒçƒ§ä¸è¥å…»è½¬åŒ–ã€‚å®ƒæ˜¯èº«ä½“çš„â€œèƒ½é‡è°ƒåº¦ä¸­å¿ƒâ€ã€‚</p>
            </div>
            <div class="knowledge-block">
              <h4>å…³é”®è¥å…»ç´ </h4>
              <ul>
                <li><strong>Bæ—ç»´ç”Ÿç´ </strong>ï¼šçº¿ç²’ä½“èƒ½é‡ä»£è°¢å¿…éœ€ï¼Œç¼ºä¹æ˜“ç–²åŠ³</li>
                <li><strong>é•</strong>ï¼šå‚ä¸300+é…¶ååº”ï¼Œè°ƒèŠ‚èƒ°å²›ç´ æ•æ„Ÿæ€§</li>
                <li><strong>é“¬</strong>ï¼šå¢å¼ºèƒ°å²›ç´ ä½œç”¨ï¼Œç¨³å®šè¡€ç³–</li>
                <li><strong>è†³é£Ÿçº¤ç»´</strong>ï¼šå»¶ç¼“ç³–å¸æ”¶ï¼Œå…»è‚ é“èŒç¾¤</li>
                <li><strong>Omega-3</strong>ï¼šé™ä½æ…¢æ€§ç‚ç—‡ï¼Œä¿æŠ¤ä»£è°¢é€šè·¯</li>
              </ul>
            </div>
            <div class="knowledge-block">
              <h4>æ¨èé£Ÿç‰©</h4>
              <p>ç‡•éº¦ã€å±±è¯ã€ä¸‰æ–‡é±¼ã€è èœã€é¸¡è›‹ã€è‹¹æœé†‹ã€åšæœã€è±†ç±»</p>
            </div>
          </div>

          <!-- ä¸­åŒ» -->
          <div class="tab-content" id="tab-tcm">
            <div class="knowledge-block">
              <h4>è„¾ä¸»è¿åŒ–</h4>
              <p>ä¸­åŒ»è®¤ä¸ºâ€œè„¾â€æ˜¯ä»£è°¢æ ¸å¿ƒï¼Œä¸»é£Ÿç‰©è½¬åŒ–ã€‚è„¾è™šåˆ™â€œè¿åŒ–å¤±å¸â€ï¼Œè¡¨ç°ä¸ºç–²åŠ³ã€æ¹¿é‡ã€é£Ÿæ¬²å·®ã€‚</p>
            </div>
            <div class="knowledge-block">
              <h4>æ°”ä¸ºè¡€ä¹‹å¸…</h4>
              <p>â€œæ°”â€ç”±è„¾èƒƒç”Ÿæˆï¼Œæ¨åŠ¨è¡€æ¶²è¿è¡Œã€‚è„¾è™šåˆ™æ°”å¼±ï¼Œæ°”è¡€ä¸è¶³ï¼Œå¯¼è‡´ä¹åŠ›ã€é¢è‰²å·®ã€‚</p>
            </div>
            <div class="knowledge-block">
              <h4>å¸¸è§ä½“è´¨</h4>
              <ul>
                <li><strong>è„¾è™šæ¹¿ç››</strong>ï¼šä¾¿æºã€èˆŒè‹”åšã€æ°´è‚¿</li>
                <li><strong>æ°”è™š</strong>ï¼šæ‡’è¨€ã€ä¹åŠ›ã€æ˜“æ±—</li>
                <li><strong>ç—°æ¹¿</strong>ï¼šè‚¥èƒ–ã€å›°å€¦ã€å£é»</li>
              </ul>
            </div>
          </div>

          <!-- ç—‡çŠ¶ -->
          <div class="tab-content" id="tab-symptoms">
            <div class="knowledge-block">
              <h4>å¸¸è§å¤±è¡¡ä¿¡å·</h4>
              <ul>
                <li>é¥­åçŠ¯å›°ã€æ˜“ç–²åŠ³</li>
                <li>ä½“é‡éš¾æ§ï¼ˆæ˜“èƒ–éš¾ç˜¦ï¼‰</li>
                <li>å£è‹¦ã€å£æ°”é‡</li>
                <li>èˆŒè‹”åšè…»ã€å¤§ä¾¿é»é©¬æ¡¶</li>
                <li>çš®è‚¤å·®ã€é•¿ç—˜</li>
              </ul>
            </div>
            <div class="knowledge-block">
              <h4>æ½œåœ¨é£é™©</h4>
              <p>é•¿æœŸä»£è°¢ç´Šä¹±å¯èƒ½å‘å±•ä¸ºèƒ°å²›ç´ æŠµæŠ—ã€è„‚è‚ªè‚ã€2å‹ç³–å°¿ç—…ã€æ…¢æ€§ç‚ç—‡ã€‚</p>
            </div>
          </div>

          <!-- ä¿®å¤ -->
          <div class="tab-content" id="tab-repair">
            <div class="knowledge-block">
              <h4>ä¿®å¤è·¯å¾„</h4>
              <ol>
                <li><strong>è¾“å…¥ä¼˜åŒ–</strong>ï¼šä½GIé£Ÿç‰©ã€æ¸©çƒ­ç†Ÿé£Ÿ</li>
                <li><strong>è½¬åŒ–æ”¯æŒ</strong>ï¼šè¡¥Bæ—ã€ç›Šç”ŸèŒã€æ¶ˆåŒ–é…¶</li>
                <li><strong>åˆ†é…è°ƒèŠ‚</strong>ï¼šæ§ç³–ã€è¿åŠ¨ã€ç¡çœ </li>
                <li><strong>æ’å‡ºæ¸…ç†</strong>ï¼šæ’æ¹¿ï¼ˆè–ç±³èŒ¯è‹“ï¼‰ã€é€šä¾¿ã€å‡ºæ±—</li>
              </ol>
            </div>
            <div class="knowledge-block">
              <h4>ç”Ÿæ´»æ–¹å¼å»ºè®®</h4>
              <ul>
                <li>æ—©é¤åƒå°ç±³å±±è¯ç²¥</li>
                <li>é¥­åç¼“æ­¥10åˆ†é’Ÿ</li>
                <li>22:30å‰å…¥ç¡</li>
                <li>é¿å…ç”Ÿå†·å¯’å‡‰é£Ÿç‰©</li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Symptom Tracker -->
    <section id="view-symptom" style="display:none">
      <header class="top">
        <div><h2>ç—‡çŠ¶è¿½è¸ª</h2><div class="muted">è®°å½•ä½ çš„èº«ä½“ä¿¡å·ï¼Œè§‚å¯Ÿè¶‹åŠ¿</div></div>
        <div class="muted small">å¯¼å‡ºåŠŸèƒ½å¾…é›†æˆ</div>
      </header>

      <div class="section card">
        <div style="display:flex;gap:8px;align-items:center;margin-bottom:12px">
          <input id="newSym" class="input" placeholder="æ·»åŠ æ–°ç—‡çŠ¶ï¼ˆä¾‹å¦‚ï¼šç–²åŠ³ï¼‰" />
          <button class="btn btn-primary" onclick="addSymptom()">æ·»åŠ </button>
        </div>

        <div id="symList" style="display:grid;gap:8px"></div>

        <div style="margin-top:12px" class="muted small">æç¤ºï¼šæŒç»­ä¸¤å‘¨ä»¥ä¸Šçš„ä¸­é‡åº¦ç—‡çŠ¶å»ºè®®å°±åŒ»ã€‚</div>
      </div>
    </section>

    <!-- Nutrition Plan -->
    <section id="view-plan" style="display:none">
      <header class="top">
        <div><h2>è¥å…»è®¡åˆ’</h2><div class="muted">ä¸­åŒ» + è¥å…»å­¦ + ä¸´åºŠæ•´åˆ</div></div>
        <div class="muted small">å¯å¯¼å‡º PDFï¼ˆæœªæ¥ï¼‰</div>
      </header>

      <div class="section">
        <div class="meal-nav">
          <button class="meal-btn active" onclick="switchPhase('acute')">æ€¥æ€§ä¿®å¤</button>
          <button class="meal-btn" onclick="switchPhase('stable')">ç¨³å®šå¼ºåŒ–</button>
          <button class="meal-btn" onclick="switchPhase('long')">é•¿æœŸç»´æŠ¤</button>
        </div>

        <!-- æ€¥æ€§ä¿®å¤ -->
        <div class="meal-content active" id="phase-acute">
          <div class="card">
            <h3 style="margin:0">æ ¸å¿ƒè¥å…»é‡ç‚¹</h3>
            <p class="muted" style="margin-top:8px">ä¼˜å…ˆé«˜å¸æ”¶é“ã€é«˜è´¨é‡è›‹ç™½ã€èƒ¶åŸè‚½ã€ç›Šç”ŸèŒã€‚ç›®æ ‡ï¼šå¿«é€Ÿä¿®å¤è‚ é“ä¸é€ è¡€ç³»ç»Ÿã€‚</p>
          </div>

          <!-- æ—©é¤ -->
          <div class="meal-card">
            <div class="meal-time">æ—©é¤ Â· æ–¹æ¡ˆ1</div>
            <div class="meal-desc">
              <div><span class="pill">ä¸»é£Ÿ</span> å°ç±³å±±è¯ç²¥</div>
              <div style="margin-top:6px"><span class="pill">è›‹ç™½</span> æ°´ç…®è›‹ Ã—1</div>
              <div style="margin-top:6px"><span class="pill">è¥å…»</span> æ¸æ10ç²’ + ç»´Cç‰‡</div>
            </div>
            <div class="meal-footer">
              <button class="btn" onclick="nextMeal('breakfast-acute')">æŸ¥çœ‹ä¸‹ä¸€ä¸ªæ—©é¤</button>
            </div>
          </div>

          <!-- åˆé¤ -->
          <div class="meal-card">
            <div class="meal-time">åˆé¤ Â· æ–¹æ¡ˆ1</div>
            <div class="meal-desc">
              <div><span class="pill">ä¸»é£Ÿ</span> ç³™ç±³</div>
              <div style="margin-top:6px"><span class="pill">è›‹ç™½</span> æ¸…è’¸é±¼/é¸¡èƒ¸</div>
              <div style="margin-top:6px"><span class="pill">è”¬èœ</span> è¥¿å…°èŠ± + èƒ¡èåœ</div>
            </div>
            <div class="meal-footer">
              <button class="btn" onclick="nextMeal('lunch-acute')">ä¸‹ä¸€ä¸ªåˆé¤</button>
            </div>
          </div>

          <!-- æ™šé¤ -->
          <div class="meal-card">
            <div class="meal-time">æ™šé¤ Â· æ–¹æ¡ˆ1</div>
            <div class="meal-desc">
              <div><span class="pill">ä¸»é£Ÿ</span> çº¢è–¯æ³¥</div>
              <div style="margin-top:6px"><span class="pill">è›‹ç™½</span> è±†è… + è™¾ä»</div>
              <div style="margin-top:6px"><span class="pill">æ±¤</span> ç´«èœè›‹èŠ±æ±¤</div>
            </div>
            <div class="meal-footer">
              <button class="btn" onclick="nextMeal('dinner-acute')">ä¸‹ä¸€ä¸ªæ™šé¤</button>
            </div>
          </div>
        </div>

        <!-- ç¨³å®šå¼ºåŒ– -->
        <div class="meal-content" id="phase-stable">
          <div class="card">
            <h3 style="margin:0">æ ¸å¿ƒè¥å…»é‡ç‚¹</h3>
            <p class="muted" style="margin-top:8px">æŒç»­è¡¥å……EAAã€ç»´ç”Ÿç´ çŸ¿ç‰©è´¨ã€Omega-3ã€‚ç›®æ ‡ï¼šæå‡ä»£è°¢ç¨³å®šæ€§ä¸å…ç–«åŠ›ã€‚</p>
          </div>

          <div class="meal-card">
            <div class="meal-time">æ—©é¤ Â· æ–¹æ¡ˆ1</div>
            <div class="meal-desc">
              <div><span class="pill">ä¸»é£Ÿ</span> ç‡•éº¦å¥¶</div>
              <div style="margin-top:6px"><span class="pill">è›‹ç™½</span> å¸Œè…Šé…¸å¥¶ + å¥‡äºšç±½</div>
              <div style="margin-top:6px"><span class="pill">åšæœ</span> æ ¸æ¡ƒ3é¢—</div>
            </div>
            <div class="meal-footer">
              <button class="btn" onclick="nextMeal('breakfast-stable')">æŸ¥çœ‹ä¸‹ä¸€ä¸ªæ—©é¤</button>
            </div>
          </div>
        </div>

        <!-- é•¿æœŸç»´æŠ¤ -->
        <div class="meal-content" id="phase-long">
          <div class="card">
            <h3 style="margin:0">æ ¸å¿ƒè¥å…»é‡ç‚¹</h3>
            <p class="muted" style="margin-top:8px">é¥®é£Ÿä¸ºä¸»ï¼Œä½å‰‚é‡è¡¥å……å‰‚ç»´æŒã€‚ç›®æ ‡ï¼šå½¢æˆå¯æŒç»­å¥åº·ä¹ æƒ¯ã€‚</p>
          </div>

          <div class="meal-card">
            <div class="meal-time">æ—©é¤ Â· æ–¹æ¡ˆ1</div>
            <div class="meal-desc">
              <div><span class="pill">ä¸»é£Ÿ</span> å…¨éº¦é¢åŒ…</div>
              <div style="margin-top:6px"><span class="pill">è›‹ç™½</span> ç…è›‹ + ç‰›æ²¹æœ</div>
              <div style="margin-top:6px"><span class="pill">é¥®å“</span> ç»¿èŒ¶ + æŸ æª¬</div>
            </div>
            <div class="meal-footer">
              <button class="btn" onclick="nextMeal('breakfast-long')">æŸ¥çœ‹ä¸‹ä¸€ä¸ªæ—©é¤</button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Supplements -->
    <section id="view-supp" style="display:none">
      <header class="top">
        <div><h2>è¡¥å……å‰‚åº“</h2><div class="muted">å·²ç­›é€‰çš„é è°±å“ç‰Œä¸ç”¨é€”</div></div>
      </header>

      <div class="section">
        <div style="display:flex;gap:8px;margin-bottom:12px">
          <input id="newSuppName" class="input" placeholder="è¡¥å……å‰‚åç§°" style="flex:1"/>
          <input id="newSuppCore" class="input" placeholder="æ ¸å¿ƒæˆåˆ†" style="flex:1"/>
          <button class="btn btn-primary" onclick="addSupplement()">æ·»åŠ </button>
        </div>

        <div id="suppList">
          <!-- åŠ¨æ€æ’å…¥ -->
        </div>
      </div>
    </section>

    <!-- Reports -->
    <section id="view-report" style="display:none">
      <header class="top">
        <div><h2>å¥åº·æŠ¥å‘Š</h2><div class="muted">åŸºäºè‡ªæµ‹ä¸è¡¥å‰‚ä¾ä»çš„å»ºè®®</div></div>
      </header>

      <div class="section">
        <div class="report-cat">
          <h3>è¡€æ¶²å¸¸è§„</h3>
          <div class="report-item">
            <div>
              <div class="report-item-name">è¡€çº¢è›‹ç™½</div>
              <div class="report-item-range">æ­£å¸¸èŒƒå›´ï¼š130â€“175 g/L</div>
            </div>
            <div class="status-good">142</div>
          </div>
          <div class="report-item">
            <div>
              <div class="report-item-name">é“è›‹ç™½</div>
              <div class="report-item-range">æ­£å¸¸èŒƒå›´ï¼š30â€“400 Î¼g/L</div>
            </div>
            <div class="status-warn">48</div>
          </div>
        </div>

        <div class="report-cat">
          <h3>ä»£è°¢æŒ‡æ ‡</h3>
          <div class="report-item">
            <div>
              <div class="report-item-name">ç©ºè…¹è¡€ç³–</div>
              <div class="report-item-range">æ­£å¸¸èŒƒå›´ï¼š3.9â€“6.1 mmol/L</div>
            </div>
            <div class="status-good">5.2</div>
          </div>
          <div class="report-item">
            <div>
              <div class="report-item-name">èƒ°å²›ç´ </div>
              <div class="report-item-range">æ­£å¸¸èŒƒå›´ï¼š<15 Î¼IU/mL</div>
            </div>
            <div class="status-bad">22</div>
          </div>
        </div>
      </div>
    </section>

    <!-- Settings -->
    <section id="view-settings" style="display:none">
      <header class="top">
        <div><h2>è®¾ç½®</h2><div class="muted">éšç§ä¸é£æ ¼</div></div>
      </header>

      <div class="section two-col">
        <div class="card">
          <h3 style="margin:0">ä¸»é¢˜</h3>
          <div style="margin-top:10px;color:var(--muted)">
            å½“å‰ï¼š<b>ä¹”å¸ƒæ–¯æç®€é»‘ç™½</b>ï¼ˆå¦‚éœ€å¯æ‰©å±•æ·±è‰²/å½©è‰²ä¸»é¢˜ï¼‰
          </div>
        </div>

        <div class="card">
          <h3 style="margin:0">æ•°æ®å¯¼å‡º</h3>
          <div style="margin-top:10px;color:var(--muted)">
            CSV / PDF å¯¼å‡ºè®¡åˆ’åœ¨åç»­ç‰ˆæœ¬ä¸Šçº¿
          </div>
        </div>
      </div>
    </section>

  </main>
</div>

<script>
/* ====== åŸºæœ¬æ•°æ® ====== */
const state = {
  quick: { energy: 52, mood: 40, sleep: 62 },
  symptoms: [
    { id: 1, name: 'ç–²åŠ³', level: 3 },
    { id: 2, name: 'ç¡çœ å·®', level: 2 },
    { id: 3, name: 'èƒƒè‚ èƒ€æ°”', level: 1 }
  ],
  supplements: [
    {name:'Solgar Gentle Iron', use:'è¡¥é“', core:'ç”˜æ°¨é…¸äºšé“', note:'æ¸©å’Œä¸åˆºæ¿€'},
    {name:'Vital Proteins Collagen', use:'èƒ¶åŸè‚½', core:'Type I & III', note:'ç‰™é¾ˆ/å…³èŠ‚ä¿®å¤'},
    {name:'Nordic Naturals Omega-3', use:'æŠ—ç‚', core:'EPA/DHA', note:'ä¿æŠ¤ç‰™å‘¨'},
    {name:'Thorne B-Complex', use:'é€ è¡€/ä»£è°¢', core:'æ´»æ€§Bæ—', note:'é«˜å“è´¨Bæ—'}
  ]
};

try{ const raw = localStorage.getItem('hk_state_v1'); if(raw) Object.assign(state, JSON.parse(raw)); }catch(e){}

/* ====== UI åˆå§‹åŒ– ====== */
document.getElementById('today').textContent = (new Date()).toLocaleDateString();
function renderQuick(){ 
  document.getElementById('energyVal').textContent = state.quick.energy + '%';
  document.getElementById('moodVal').textContent = state.quick.mood + '%';
  document.getElementById('sleepVal').textContent = state.quick.sleep + '%';
}
function renderSymptoms(){
  const list = document.getElementById('symList');
  list.innerHTML = '';
  state.symptoms.forEach(s=>{
    const div = document.createElement('div');
    div.className = 'sym-row';
    div.innerHTML = `
      <div>
        <div class="sym-name">${escapeHtml(s.name)}</div>
        <div class="sym-level">ç¨‹åº¦ï¼š${s.level} / 5</div>
      </div>
      <div style="display:flex;gap:8px">
        <button class="btn" onclick="symAdjust(${s.id}, -1)">-</button>
        <button class="btn" onclick="symAdjust(${s.id}, 1)">+</button>
        <button class="btn" onclick="symDel(${s.id})">åˆ é™¤</button>
      </div>
    `;
    list.appendChild(div);
  });
}
function renderSupps(){
  const list = document.getElementById('suppList');
  list.innerHTML = '';
  state.supplements.forEach((s,i)=>{
    const c = document.createElement('div');
    c.className = 'supp-card';
    c.innerHTML = `
      <div class="supp-name">${escapeHtml(s.name)}</div>
      <div class="supp-use">${escapeHtml(s.use)} â€¢ ${escapeHtml(s.note)}</div>
      <div class="supp-core"><strong>æ ¸å¿ƒæˆåˆ†ï¼š</strong>${escapeHtml(s.core)}</div>
      <div style="text-align:right"><button class="btn" onclick="suppAddToPlan(${i})">æ·»åŠ åˆ°æ–¹æ¡ˆ</button></div>
    `;
    list.appendChild(c);
  });
}

/* ====== helpers ====== */
function saveState(){ localStorage.setItem('hk_state_v1', JSON.stringify(state)); }
function escapeHtml(s){ return String(s).replace(/[&<>"']/g,c=>({ '&':'&amp;','<':'<','>':'>','"':'&quot;',"'":'&#39;'}[c])); }

/* ====== Navigation ====== */
function navTo(view){
  document.querySelectorAll('.nav-btn').forEach(b=>b.classList.remove('active'));
  document.querySelector(`.nav-btn[data-view="${view}"]`).classList.add('active');
  ['dashboard','knowledge','symptom','plan','supp','report','settings'].forEach(v=>{
    const el = document.getElementById('view-' + v);
    if(el) el.style.display = (v===view)?'block':'none';
  });
  document.getElementById('main').focus();
}
document.querySelectorAll('.nav-btn').forEach(b=>b.addEventListener('click', ()=> navTo(b.dataset.view)));

/* ====== Knowledge Base ====== */
function selectSystem(system) {
  document.querySelectorAll('.system-pill').forEach(p => p.classList.remove('active'));
  event.target.classList.add('active');
}
function switchTab(tab) {
  document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
  document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
  event.target.classList.add('active');
  document.getElementById('tab-' + tab).classList.add('active');
}

/* ====== Nutrition Plan ====== */
function switchPhase(phase) {
  document.querySelectorAll('.meal-btn').forEach(b => b.classList.remove('active'));
  document.querySelectorAll('.meal-content').forEach(c => c.classList.remove('active'));
  event.target.classList.add('active');
  document.getElementById('phase-' + phase).classList.add('active');
}
function nextMeal(type) {
  const meals = {
    'breakfast-acute': ['å°ç±³å±±è¯ç²¥ + é¸¡è›‹', 'ç‡•éº¦å¥¶ + å¥‡äºšç±½', 'å…¨éº¦é¢åŒ… + ç‰›æ²¹æœ'],
    'lunch-acute': ['ç³™ç±³ + é±¼', 'è—œéº¦ + è±†è…', 'çº¢è–¯ + å¸Œè…Šæ²™æ‹‰'],
    'dinner-acute': ['çº¢è–¯æ³¥ + è±†è…', 'æ¸…æ±¤é¢ + è™¾', 'è’¸å—ç“œ + é¸¡èƒ¸']
  };
  alert(`å·²åˆ‡æ¢åˆ° ${type} çš„ä¸‹ä¸€ä¸ªæ–¹æ¡ˆ`);
}

/* ====== Supplements ====== */
function addSupplement(){
  const name = document.getElementById('newSuppName').value.trim();
  const core = document.getElementById('newSuppCore').value.trim();
  if(!name || !core) return alert('è¯·è¾“å…¥åç§°å’Œæ ¸å¿ƒæˆåˆ†');
  state.supplements.push({name, core, use:'è‡ªå®šä¹‰', note:'ç”¨æˆ·æ·»åŠ '});
  document.getElementById('newSuppName').value = '';
  document.getElementById('newSuppCore').value = '';
  renderSupps(); saveState();
}

/* ====== Init ====== */
renderQuick();
renderSymptoms();
renderSupps();

/* ====== Expose ====== */
window.navTo = navTo;
window.selectSystem = selectSystem;
window.switchTab = switchTab;
window.switchPhase = switchPhase;
window.nextMeal = nextMeal;
window.addSupplement = addSupplement;
</script>
</body>
</html>